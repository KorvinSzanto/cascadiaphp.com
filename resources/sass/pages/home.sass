@import "../util/_all"
@import "../elements/button"

section.what
  min-height: calc(100vh - #{$headerHeight})
  background-color: lighten($color2, 40%)
  display: flex
  flex-direction: column

  .days
    color: $color-blue

  .main-animation
    flex: 1

  .second-cta
    height: 150px
    border-top: solid .5em $color-dark
    background-image: url(https://jannah.tielabs.com/traveling/wp-content/themes/jannah/images/patterns/body-bg3.png)

    amp-fit-text
      span
        margin-top: -.1em

    > div
      flex: 1
      amp-fit-text
        white-space: nowrap

  .third-cta
    height: 100%
    height: 250px
    amp-video > video
      object-fit: cover

  .video-cover
    background-image: url(https://jannah.tielabs.com/traveling/wp-content/themes/jannah/images/patterns/body-bg21.png)
    top: 0
    left: 0
    right: 0
    bottom: 0

  .main-cta
    overflow: hidden
    height: 100%

    >.flex
      margin-top: 50px
      max-height: 100%
      background: $color-light
      border: solid .5em $color-dark
      z-index: 10000

  .date
    text-align: center
    z-index: 10000
    color: $color-dark

    amp-fit-text
      font-family: $font2
      height: 100%
      text-align: center
      height: calc(100vh/(vh/vw))

      span
        white-space: nowrap

  .waves, .waves-2
    z-index: 1
    position: absolute
    bottom: 0
    left: 0
    right: 0
    height: 30px
    background-image: url('/images/scenes/what/waves.png')
    background-position: bottom
    background-repeat: repeat-x

    animation: waves 2s linear infinite

  .waves-2
    display: none
    animation: waves-opposite 3s linear infinite
    background-image: url('/images/scenes/what/waves.png')
    margin-top: -2px

  .knoll
    bottom: 0
    height: calc(10vh)
    width: calc(15vw)
    background: no-repeat bottom url('/images/scenes/what/bridge/SVG/knoll.svg')
    z-index: 200

    &.right-knoll
      transform: scale(-1, 1)
      right: 0

  .bridge, .bridge > .flex
    height: 100%

  .bridge
    overflow: hidden
    position: absolute
    bottom: 0
    width: calc(100vw + 100px)
    margin-left: -50px
    background-color: lighten($color-blue, 40%)
    background-image: url(https://jannah.tielabs.com/traveling/wp-content/themes/jannah/images/patterns/body-bg1.png)

    amp-video
      video
        object-fit: cover

    .flex > div
      flex: 1

      img
        object-fit: cover
        object-position: bottom

    .left-upright
      align-items: flex-end
      justify-content: flex-end

      amp-img
        transform: scalex(-1)

    .left-upright, .right-upright
      flex: 1
      min-height: 100%
      overflow: hidden
      display: flex
      height: calc(100vh / 2)

      amp-img
        height: 100%
        justify-content: flex-end

        img
          object-fit: cover
          object-position: bottom left

@-webkit-keyframes waves
  0%
    background-position: 0px 0px

  50%
    background-position: 35px 5px

  100%
    background-position: 70px 0px


@-webkit-keyframes waves-opposite
  0%
    background-position: 0px 5px

  50%
    background-position: -35px 0px

  100%
    background-position: -70px 5px

@media screen and (max-width: $sizeLarge)
  .waves
    transform: scale(.5)
    width: calc(200vw)
    margin-left: calc(100vw / -2)
    margin-bottom: -8px

@media screen and (max-width: $sizeTablet)
  .bridge-deck
    position: absolute
    justify-self: center
    align-self: center
    left: 50%
    margin-left: calc(40vw * -1)
    width: calc(80vw)
    z-index: 2000

    .main-cta > div
      min-height: calc(30vh)
      border-radius: 10px

  .date
    min-height: calc(15vh)

    amp-fit-text
      height: 100%

  section.what .second-cta
    height: calc(25vh)
    flex-direction: column

  .waves
    transform: scale(.25)
    width: calc(500vw)
    margin-left: calc(200vw * -1)
    margin-bottom: -12px

@media (min-width: 52em) and (max-width: 64em)
  /* MD */
  section.what .main-cta
    max-height: 500px
    position: absolute
    width: 100%
    bottom: 1em

@media (min-width: 64em)
  /* LG */
  section.what .main-cta
    max-height: 500px
    position: absolute
    width: 100%
    bottom: 1em

section.where
  background-color: $color-blue
  display: flex
  min-height: 100px

  > div
    flex: 1


.what.v2
  .main-cta
    position: relative
    > .flex
      border-radius: 100px
      border-color: $color-green
      border-width: 5px
      padding: 50px
